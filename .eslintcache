[{"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\index.js":"1","C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\App.js":"2","C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\Post.js":"3","C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\firebase.js":"4","C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\ImageUpload.js":"5"},{"size":506,"mtime":1610275018074,"results":"6","hashOfConfig":"7"},{"size":6224,"mtime":1610303505216,"results":"8","hashOfConfig":"7"},{"size":2681,"mtime":1610303868816,"results":"9","hashOfConfig":"7"},{"size":694,"mtime":1610303939237,"results":"10","hashOfConfig":"7"},{"size":2365,"mtime":1610293067304,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1e9epcl",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"14"},"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\index.js",[],["24","25"],"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\App.js",[],"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\Post.js",[],"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\firebase.js",[],"C:\\Users\\Nats\\Desktop\\instagram-clone\\src\\ImageUpload.js",["26"],"import { Button } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport firebaseApp, { db, storage, firebase } from './firebase';\r\nimport \"./ImageUpload.css\";\r\n\r\nfunction ImageUpload( {username} ) {\r\n\r\n    const [caption, setCaption] = useState(\"\");\r\n    const [progress, setProgress] = useState(0);\r\n    const [image, setImage] = useState(null);\r\n\r\n    const handleChange = (e) =>  {\r\n        if (e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleUpload = (e) => {\r\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => {\r\n                //progress function...\r\n                const progress = Math.round((\r\n                    snapshot.bytesTransferred / snapshot.totalBytes ) * 100\r\n                );\r\n                setProgress(progress);\r\n            },\r\n            (error) => {\r\n                //Error function...\r\n                console.log(error);\r\n                alert(error.message);\r\n            },\r\n            () => {\r\n                //Complete function...\r\n                storage\r\n                .ref(\"images\")\r\n                .child(image.name)\r\n                .getDownloadURL()\r\n                .then(url => {\r\n                    // post image inside database\r\n                    db.collection(\"posts\").add({\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                        caption: caption,\r\n                        imageUrl: url,\r\n                        username: username\r\n                    });\r\n\r\n                    setProgress(0);\r\n                    setCaption(\"\");\r\n                    setImage(null);\r\n                });\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"imageUpload\">\r\n\r\n            <progress className=\"imageUpload__progress\" value={progress} max=\"100\" />\r\n            <input type=\"text\" \r\n                placeholder=\"Enter a caption...\"\r\n                value={caption}\r\n                onChange={e => setCaption(e.target.value)}\r\n            />\r\n            <input type=\"file\" onChange={handleChange}/>\r\n            <Button onClick={handleUpload}>\r\n                Upload\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload;\r\n",{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":3,"column":8,"nodeType":"33","messageId":"34","endLine":3,"endColumn":19},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],"no-unused-vars","'firebaseApp' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]